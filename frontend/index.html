<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KitchenPal</title>
    <link rel="stylesheet" href="/app/styles.css" />
  </head>
  <body>
    <header class="hero">
      <div>
        <h1>KitchenPal</h1>
        <p>Create, chat about, and catalog your favorite recipes.</p>
      </div>
    </header>

    <main class="layout">
      <section class="panel">
        <h2>Chat Assistant</h2>
        <label for="openaiKey">OpenAI API Key</label>
        <input
          type="password"
          id="openaiKey"
          placeholder="sk-..."
          autocomplete="off"
        />
        <label for="chatPrompt">What should we cook?</label>
        <textarea
          id="chatPrompt"
          rows="4"
          placeholder="Ask for ideas or paste a recipe you want to improve."
        ></textarea>
        <button id="chatSubmit" class="primary">Ask KitchenPal</button>
        <div id="chatStatus" class="status"></div>
        <div id="chatReply" class="chat-reply"></div>
        <div id="chatSuggestions" class="suggestions"></div>
      </section>

      <section class="panel">
        <h2 id="formTitle">Create Recipe</h2>
        <form id="recipeForm">
          <input type="hidden" id="editingId" />
          <label for="title">Title</label>
          <input type="text" id="title" required maxlength="100" />

          <label for="description">Description</label>
          <textarea id="description" rows="2" maxlength="500"></textarea>

          <label for="ingredients">Ingredients (one per line)</label>
          <textarea id="ingredients" rows="4" required></textarea>

          <label for="steps">Steps (one per line)</label>
          <textarea id="steps" rows="4" required></textarea>

          <label for="tags">Tags (comma separated)</label>
          <input type="text" id="tags" />

          <div class="form-actions">
            <button type="submit" class="primary" id="saveRecipe">Save</button>
            <button type="button" id="cancelEdit" class="ghost hidden">
              Cancel Edit
            </button>
          </div>
          <div id="formStatus" class="status"></div>
        </form>
      </section>
    </main>

    <section class="panel catalog">
      <div class="catalog-header">
        <h2>Recipe Catalog</h2>
        <button id="refreshRecipes" class="ghost">Refresh</button>
      </div>
      <div id="recipeGrid" class="grid"></div>
    </section>

    <template id="recipeCardTemplate">
      <article class="recipe-card">
        <div class="card-header">
          <h3 class="card-title"></h3>
          <div class="card-actions">
            <button class="ghost edit">Edit</button>
            <button class="ghost danger delete">Delete</button>
          </div>
        </div>
        <p class="card-description"></p>
        <div class="card-body">
          <div>
            <h4>Ingredients</h4>
            <ul class="ingredients"></ul>
          </div>
          <div>
            <h4>Steps</h4>
            <ol class="steps"></ol>
          </div>
        </div>
        <div class="tags"></div>
      </article>
    </template>

    <script src="/app/app.js" type="module"></script>
  </body>
</html>
